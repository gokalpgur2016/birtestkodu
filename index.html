<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Mobil ASCII Snake</title>
  <style>
    body {
      background: #000;
      color: #0f0;
      font-family: monospace;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    pre {
      font-size: 14px;
      line-height: 14px;
      white-space: pre;
    }
    .controls {
      margin-top: 10px;
    }
    .controls button {
      background: #222;
      color: #0f0;
      border: 1px solid #0f0;
      padding: 10px 20px;
      margin: 5px;
      font-size: 16px;
      border-radius: 5px;
    }
    .controls button:active {
      background: #0f0;
      color: #000;
    }
  </style>
</head>
<body>
  <h1>üêç Mobil ASCII Snake</h1>
  <pre id="game"></pre>

  <!-- Mobil kontrol butonlarƒ± -->
  <div class="controls">
    <div>
      <button onclick="dir={x:0,y:-1}">‚¨ÜÔ∏è</button>
    </div>
    <div>
      <button onclick="dir={x:-1,y:0}">‚¨ÖÔ∏è</button>
      <button onclick="dir={x:1,y:0}">‚û°Ô∏è</button>
    </div>
    <div>
      <button onclick="dir={x:0,y:1}">‚¨áÔ∏è</button>
    </div>
  </div>

  <script>
    const width = 20, height = 15;
    let snake = [{x:5,y:5}];
    let food = {x:10,y:7};
    let dir = {x:1,y:0};
    let walls = [];

    // √áer√ßeve duvarlarƒ±
    for (let x = 0; x < width; x++) {
      walls.push({x:x, y:0});
      walls.push({x:x, y:height-1});
    }
    for (let y = 0; y < height; y++) {
      walls.push({x:0, y:y});
      walls.push({x:width-1, y:y});
    }

    function draw() {
      let screen = "";
      for (let y=0; y<height; y++) {
        for (let x=0; x<width; x++) {
          if (walls.some(w => w.x===x && w.y===y)) {
            screen += "#";
          } else if (snake.some(s => s.x===x && s.y===y)) {
            screen += "O";
          } else if (food.x===x && food.y===y) {
            screen += "*";
          } else {
            screen += " ";
          }
        }
        screen += "\n";
      }
      document.getElementById("game").textContent = screen;
    }

    function update() {
      let head = {x:snake[0].x+dir.x, y:snake[0].y+dir.y};
      snake.unshift(head);

      if (head.x===food.x && head.y===food.y) {
        food = {
          x:Math.floor(Math.random()*(width-2))+1,
          y:Math.floor(Math.random()*(height-2))+1
        };
      } else {
        snake.pop();
      }

      if (
        head.x<0 || head.y<0 || head.x>=width || head.y>=height ||
        snake.slice(1).some(s => s.x===head.x && s.y===head.y) ||
        walls.some(w => w.x===head.x && w.y===head.y)
      ) {
        alert("Oyun Bitti! üß±üêç");
        snake = [{x:5,y:5}];
        dir = {x:1,y:0};
      }
      draw();
    }

    // Klavye desteƒüi (PC i√ßin)
    document.addEventListener("keydown", e => {
      if (e.key==="ArrowUp") dir={x:0,y:-1};
      if (e.key==="ArrowDown") dir={x:0,y:1};
      if (e.key==="ArrowLeft") dir={x:-1,y:0};
      if (e.key==="ArrowRight") dir={x:1,y:0};
    });

    setInterval(update, 200);
    draw();
  </script>
</body>
</html>
