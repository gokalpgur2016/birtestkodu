<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>ASCII Snake - √áer√ßeveli</title>
  <style>
    body {
      background: #000;
      color: #0f0;
      font-family: monospace;
      text-align: center;
    }
    pre {
      font-size: 16px;
      line-height: 16px;
    }
  </style>
</head>
<body>
  <h1>üêç ASCII Snake + Duvar √áer√ßevesi</h1>
  <p>Y√∂n tu≈ülarƒ± ile oynayabilirsin</p>
  <pre id="game"></pre>

  <script>
    const width = 20, height = 15;
    let snake = [{x:5,y:5}];
    let food = {x:10,y:7};
    let dir = {x:1,y:0};
    let walls = [];

    // √áer√ßeve duvarlarƒ± olu≈ütur
    for (let x = 0; x < width; x++) {
      walls.push({x:x, y:0});               // √ºst kenar
      walls.push({x:x, y:height - 1});      // alt kenar
    }
    for (let y = 0; y < height; y++) {
      walls.push({x:0, y:y});               // sol kenar
      walls.push({x:width - 1, y:y});       // saƒü kenar
    }

    function draw() {
      let screen = "";
      for (let y = 0; y < height; y++) {
        for (let x = 0; x < width; x++) {
          if (walls.some(w => w.x === x && w.y === y)) {
            screen += "#";
          } else if (snake.some(s => s.x === x && s.y === y)) {
            screen += "O";
          } else if (food.x === x && food.y === y) {
            screen += "*";
          } else {
            screen += " ";
          }
        }
        screen += "\n";
      }
      document.getElementById("game").textContent = screen;
    }

    function update() {
      let head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
      snake.unshift(head);

      if (head.x === food.x && head.y === food.y) {
        food = {
          x: Math.floor(Math.random() * (width - 2)) + 1,
          y: Math.floor(Math.random() * (height - 2)) + 1
        };
      } else {
        snake.pop();
      }

      if (
        head.x < 0 || head.y < 0 || head.x >= width || head.y >= height ||
        snake.slice(1).some(s => s.x === head.x && s.y === head.y) ||
        walls.some(w => w.x === head.x && w.y === head.y)
      ) {
        alert("Oyun Bitti! üß±üêç");
        snake = [{x:5,y:5}];
        dir = {x:1,y:0};
      }

      draw();
    }

    document.addEventListener("keydown", e => {
      if (e.key === "ArrowUp") dir = {x:0, y:-1};
      if (e.key === "ArrowDown") dir = {x:0, y:1};
      if (e.key === "ArrowLeft") dir = {x:-1, y:0};
      if (e.key === "ArrowRight") dir = {x:1, y:0};
    });

    setInterval(update, 200);
    draw();
  </script>
</body>
</html>
