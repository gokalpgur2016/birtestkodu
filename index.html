<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>MC Classic Klonu - Chunk Sistemi</title>
  <style>
    body { margin:0; overflow:hidden; background:#000; }
    #ui {
      position:fixed; top:10px; left:10px;
      background:#111; color:#0f0; font-family:monospace;
      padding:8px 12px; border:1px solid #0f0; z-index:10;
    }
  </style>
</head>
<body>
  <div id="ui">WASD: hareket • Fare: yerleştir/kır • 1-3: blok seç</div>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script>
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(innerWidth, innerHeight);
    document.body.appendChild(renderer.domElement);

    // Işık
    const light = new THREE.DirectionalLight(0xffffff, 1);
    light.position.set(10, 20, 10);
    scene.add(light);

    // Blok materyalleri
    const mats = {
      1: new THREE.MeshLambertMaterial({color:0x3cb043}), // grass
      2: new THREE.MeshLambertMaterial({color:0x8d6e63}), // dirt
      3: new THREE.MeshLambertMaterial({color:0x888888})  // stone
    };
    let activeBlock = 1;

    // Chunk parametreleri
    const CHUNK_SIZE = 16;
    const WORLD_SIZE = 4; // 4x4 chunk → 64x64 blok
    const chunks = [];

    function generateChunk(cx, cz) {
      const group = new THREE.Group();
      for(let x=0;x<CHUNK_SIZE;x++){
        for(let z=0;z<CHUNK_SIZE;z++){
          const h = 2 + Math.floor(Math.random()*3);
          for(let y=0;y<h;y++){
            const cube = new THREE.Mesh(new THREE.BoxGeometry(1,1,1), mats[1]);
            cube.position.set(cx*CHUNK_SIZE+x, y, cz*CHUNK_SIZE+z);
            group.add(cube);
          }
        }
      }
      scene.add(group);
      return group;
    }

    // Dünya chunk’larını oluştur
    for(let cx=0; cx<WORLD_SIZE; cx++){
      for(let cz=0; cz<WORLD_SIZE; cz++){
        chunks.push(generateChunk(cx, cz));
      }
    }

    // Kamera
    camera.position.set(32, 20, 80);
    camera.lookAt(32,0,32);

    // WASD hareket
    const keys = {};
    document.addEventListener('keydown', e => {
      keys[e.key.toLowerCase()] = true;
      if (e.key === '1') activeBlock = 1;
      if (e.key === '2') activeBlock = 2;
      if (e.key === '3') activeBlock = 3;
    });
    document.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);

    function updateCamera() {
      const speed = 0.5;
      if (keys['w']) camera.position.z -= speed;
      if (keys['s']) camera.position.z += speed;
      if (keys['a']) camera.position.x -= speed;
      if (keys['d']) camera.position.x += speed;
      camera.lookAt(32,0,32);
    }

    function animate(){
      requestAnimationFrame(animate);
      updateCamera();
      renderer.render(scene,camera);
    }
    animate();
  </script>
</body>
</html>
